# JmPayments
Простое приложение на технологии **Akka(core, stream, typed, persistence)** которое содержит следующие элементы и функционал:
- Актор **PaymentsReader**, который будет вычитывать из указанного в конфигурации(`aplication.conf`) каталога файл по маске имени, так же указанной в конфигурации;
- Актор **PaymentChecker**, который будет принимать сообщение вида `CheckPayment(payment: String)` от актора `PaymentsReader` по каждой строке платежа, и, в случае не удовлетворения маске платежа(1), откидывать сообщение в актор `LogPayment`, а в случае успеха создавать по одному актору на каждого из учатсников платежа и отправлять им сообщение `Payment(sign: PaymentSign, value: Long, participant: ActorRef)`;
- Актор **LogPayment**, который принимает сообщения `InfoMessage(message: String)` или `ErrorMessage(message: String)` и пишет в лог;
- Актор **PaymentParticipant**, который создается с именем, переданным при создании(берётся из полученной строки) и значением `balance`, полученным из конфигурации, и принимает сообщение `Payment`,
в котором определяется знак платежа(+ или -), производится действие с балансом и значением `value`, логируется результат. В случае если происходит вычитание такого значения, что баланса не хватает, происходит логирование нехватки баланса, баланс остается прежним, и отсылает сообщение `StopPayment` на актор `PaymentParticipant`.

(1) Маска платежа должна выглядеть следующим образом: `NAME1` -> `NAME2`: `VALUE`
где `NAME1` и `NAME2` - любой числобуквенный набор, а `VALUE` - числовое значение

Файл может содержать 1 и более платежей, каждый платёж на своей строке.